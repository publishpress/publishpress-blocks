{"version":3,"file":"preset-manager.js","mappings":"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","sources":["webpack://advanced-gutenberg/./node_modules/hour-convert/index.js","webpack://advanced-gutenberg/webpack/bootstrap","webpack://advanced-gutenberg/webpack/runtime/compat get default export","webpack://advanced-gutenberg/webpack/runtime/define property getters","webpack://advanced-gutenberg/webpack/runtime/hasOwnProperty shorthand","webpack://advanced-gutenberg/./assets/blocks/0-adv-components/datetime.jsx","webpack://advanced-gutenberg/./assets/blocks/0-adv-components/utils.jsx","webpack://advanced-gutenberg/./assets/blocks/block-controls/preset-manager.jsx"],"sourcesContent":["'use strict';\n\nmodule.exports = {\n\n    /**\n     * Convert 24-hour time to 12-hour format.\n     *\n     * @param {number} hour Hour to convert (0-23)\n     * @return {object} { hour, meridiem } (meridian is also returned for backwards compatibility)\n     */\n    to12Hour: function to12Hour(hour) {\n        var meridiem = hour < 12 ? 'am' : 'pm';\n        return {\n            hour: ((hour + 11) % 12 + 1),\n            meridiem: meridiem,\n            meridian: meridiem\n        };\n    },\n\n    /**\n     * Convert 12-hour time to 24-hour format.\n     *\n     * @param {object} time Time object\n     * @param {number} time.hour Hour to convert (1-12)\n     * @param {string} time.meridiem Hour meridiem (am/pm). 'time.meridian' is\n     *  supported for backwards compatibility.\n     * @return {number}\n     */\n    to24Hour: function to24Hour(time) {\n        var meridiem = time.meridiem || time.meridian;\n        return (meridiem === 'am' ? 0 : 12) + (time.hour % 12);\n    }\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","import hourConvert from 'hour-convert';\r\n\r\nconst { ButtonGroup, Button, DateTimePicker, TextControl, CheckboxControl, Popover, Tooltip, SelectControl, Icon } = wp.components;\r\nconst { Component, Fragment, useState } = wp.element;\r\nconst { __, _x } = wp.i18n;\r\nconst { applyFilters } = wp.hooks;\r\n\r\nexport function AdvDateTimeControl(props) {\r\n    const [popupState, setPopupState] = useState( false );\r\n    const togglePopup = () => {\r\n        setPopupState( ! popupState );\r\n    };\r\n\r\n    const {\r\n        buttonLabel,\r\n        dateLabel,\r\n        date,\r\n        onChangeDate,\r\n        onDateClear,\r\n        onInvalidDate,\r\n        placement,\r\n        offset\r\n    } = props;\r\n\r\n    return (\r\n        <Fragment>\r\n            <div className=\"advgb-advcalendar-control\">\r\n                <label>\r\n                    { dateLabel }\r\n                </label>\r\n                <div>\r\n                    <Button\r\n                        isLink\r\n                        icon=\"calendar\"\r\n                        onClick={ togglePopup }\r\n                    >\r\n                        <Tooltip text={ __( 'Change date', 'advanced-gutenberg' ) }>\r\n                            <span>\r\n                                { date ? moment( date ).format( \"MMMM DD YYYY, h:mm a\" ) : buttonLabel }\r\n                            </span>\r\n                        </Tooltip>\r\n                    </Button>\r\n                    { date &&\r\n        \t\t\t\t<Button\r\n        \t\t\t\t\ticon=\"no-alt\"\r\n                            className=\"advgb-advcalendar-remove-icon\"\r\n        \t\t\t\t\tonClick={ () => onDateClear() }\r\n        \t\t\t\t/>\r\n        \t\t\t}\r\n                </div>\r\n            </div>\r\n            { popupState &&\r\n                <Popover\r\n                    className=\"advgb-advcalendar-popover\"\r\n                    onClose={ setPopupState.bind( null, false ) }\r\n                    resize={ false }\r\n                    placement={ placement }\r\n                    offset={ offset }\r\n                >\r\n                    <label className=\"advgb-advcalendar-popover-label\">\r\n                        { dateLabel }\r\n                        <Button\r\n        \t\t\t\t\ticon=\"no-alt\"\r\n                            className=\"advgb-advcalendar-remove-icon\"\r\n        \t\t\t\t\tonClick={ togglePopup }\r\n        \t\t\t\t/>\r\n                    </label>\r\n                    <DateTimePicker\r\n                        currentDate={ date }\r\n                        onChange={ onChangeDate }\r\n                        is12Hour={ true }\r\n                        isInvalidDate={ onInvalidDate }\r\n                    />\r\n                </Popover>\r\n            }\r\n        </Fragment>\r\n\r\n    )\r\n}\r\n\r\nAdvDateTimeControl.defaultProps = {\r\n    placement: 'left',\r\n    offset: 40\r\n}\r\n\r\nexport function AdvDaysControl(props) {\r\n    const allDays = [\r\n        { slug: 0, label: _x( 'S', 'Sunday first letter', 'advanced-gutenberg' ) },\r\n        { slug: 1, label: __( 'M', 'advanced-gutenberg' ) },\r\n        { slug: 2, label: _x( 'T', 'Tuesday first letter', 'advanced-gutenberg' ) },\r\n        { slug: 3, label: __( 'W', 'advanced-gutenberg' ) },\r\n        { slug: 4, label: _x( 'T', 'Thursday first letter', 'advanced-gutenberg' ) },\r\n        { slug: 5, label: __( 'F', 'advanced-gutenberg' ) },\r\n        { slug: 6, label: _x( 'S', 'Saturday first letter', 'advanced-gutenberg' ) }\r\n    ];\r\n\r\n    const {\r\n        label,\r\n        days = [],\r\n        onChangeDays\r\n    } = props;\r\n\r\n    // Use a single state variable to store the selected days\r\n    const [selectedDays, setSelectedDays] = useState(Array.isArray(days) ? days : []);\r\n\r\n    /**\r\n    * Check if the day is selected or not\r\n    *\r\n    * @since 3.1.2\r\n    *\r\n    * @param {string} Day slug e.g. 'u' for Sunday, 't' for Tuesday\r\n    *\r\n    * @return {bool}\r\n    */\r\n    function isDaySelected( slug ) {\r\n        return selectedDays.some( el => el === slug );\r\n    }\r\n\r\n    /**\r\n    * Update the selected days state when a checkbox is changed\r\n    *\r\n    * @since 3.1.2\r\n    *\r\n    * @param {string} Day slug e.g. 'u' for Sunday, 't' for Tuesday\r\n    *\r\n    * @return {void}\r\n    */\r\n    function onChangeDay( slug ) {\r\n\r\n        // Check if the day is already selected\r\n        const isSelected = isDaySelected( slug );\r\n\r\n        // Create a new array with the updated selection\r\n        let updatedDays;\r\n        if ( isSelected ) {\r\n            // Remove the day from the selected days\r\n            updatedDays = selectedDays.filter( el => el !== slug );\r\n        } else {\r\n            // Add the day to the selected days\r\n            const findDay = allDays.find( el => el.slug === slug );\r\n            updatedDays = [ ...selectedDays, findDay.slug ];\r\n        }\r\n\r\n        // Remove duplicates\r\n        const uniqueDays = [ ...new Set( updatedDays ) ];\r\n\r\n        // Update the selected days state\r\n        setSelectedDays( uniqueDays );\r\n\r\n        // Call the onChangeDays prop to notify the parent component of the change\r\n        if ( onChangeDays ) {\r\n            onChangeDays( updatedDays );\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Fragment>\r\n            <div className=\"advgb-checkbox-wrapper\">\r\n                <label>\r\n                    { label }\r\n                </label>\r\n                <div className=\"advgb-checkbox-inline\">\r\n                    { allDays.map( day => (\r\n                        <CheckboxControl\r\n                            label={ day.label }\r\n                            checked={ isDaySelected( day.slug ) }\r\n                            onChange={ () => onChangeDay( day.slug ) }\r\n                        />\r\n                    ) ) }\r\n                </div>\r\n            </div>\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nclass AdvTimeClass extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            onChangeTime: null,\r\n            currentTime: this.props.currentTime || null,\r\n            hours: null,\r\n            minutes: null,\r\n            meridian: 'am',\r\n            onInit: true\r\n        };\r\n    }\r\n\r\n    componentWillMount() {\r\n        const { onChangeTime, currentTime, onInit } = this.state;\r\n\r\n        if( this.props.onChangeTime !== onChangeTime ) {\r\n            this.setState( {\r\n                onChangeTime: this.props.onChangeTime,\r\n            } );\r\n        }\r\n\r\n        if( this.props.currentTime !== currentTime ) {\r\n            this.setState( {\r\n                currentTime: this.props.currentTime,\r\n            } );\r\n        }\r\n\r\n        // Init\r\n        if( currentTime && currentTime.includes(':') && onInit ) {\r\n            this.setState( {\r\n                hours:      currentTime.split(':')[0],\r\n                minutes:    currentTime.split(':')[1],\r\n                meridian:   parseInt( currentTime.split(':')[0] ) > 11 ? 'pm' : 'am', // We set > 11 because PM starts from 12:00:00\r\n                onInit:     false\r\n            } );\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        const { onChangeTime, currentTime } = this.props;\r\n        const { hours, minutes, meridian } = this.state;\r\n        const { hours: prevHours, minutes: prevMinutes, meridian: prevMeridian } = prevState;\r\n\r\n        if( hours !== prevHours || minutes !== prevMinutes || meridian !== prevMeridian ) {\r\n\r\n            // When clearing time\r\n            if( ! hours && ! minutes ) {\r\n                return;\r\n            }\r\n\r\n            // Default minutes when hours selected\r\n            if( hours && ! minutes ) {\r\n                this.setState( {\r\n                    minutes: '00'\r\n                } );\r\n            }\r\n\r\n            // Default hours when minutes selected\r\n            if( minutes && ! hours ) {\r\n                this.setState( {\r\n                    hours: '01'\r\n                } );\r\n            }\r\n\r\n            /* Convert 12-hours to 24-hours.\r\n             * e.g. 12:00 AM becomes 00:00:00\r\n             *      12:00 PM becomes 12:00:00\r\n             *      01:00 PM becomes 13:00:00\r\n             */\r\n            const savedTime   = `${this.appendZero(\r\n                                    hourConvert.to24Hour( {\r\n                                        hour: parseInt( hours ),\r\n                                        meridiem: meridian\r\n                                    } )\r\n                                )}:${minutes}:00`;\r\n\r\n            // Value saved in source/attribute\r\n            this.props.onChangeTime( savedTime );\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Append zero to one digit numbers. e.g. 9 becomes '09'\r\n     *\r\n     * @since 3.1.2\r\n     *\r\n     * @param {string value Hours or minutes\r\n     *\r\n     * @return {string}\r\n     */\r\n    appendZero( value ) {\r\n        if( isNaN( value ) ) {\r\n            return;\r\n        }\r\n\r\n        const res = parseInt( value );\r\n\r\n        return res > 9 ? res : `0${res}`;\r\n    }\r\n\r\n    render() {\r\n        const { onChangeTime, currentTime, hours, minutes, meridian } = this.state;\r\n\r\n        // Make sure hours are valid. 01: min, 12: max\r\n        const handleChangeHours = event => {\r\n            const value = Math.max( 1, Math.min( 12, Number( event.target.value ) ) );\r\n            this.setState( {\r\n                hours: this.appendZero( value )\r\n            } );\r\n        };\r\n\r\n        // Allow to use up/down keys for hours\r\n        const handleKeyDownHours = event => {\r\n            const value = Number( event.target.value );\r\n            if( event.key === 'ArrowUp' && value < 12 ) {\r\n                this.setState( {\r\n                    hours: this.appendZero( value + 1 )\r\n                } );\r\n            } else if ( event.key === 'ArrowDown' && value > 1 ) {\r\n                this.setState( {\r\n                    hours: this.appendZero( value - 1 )\r\n                } );\r\n            }\r\n        };\r\n\r\n        // Make sure minutes are valid. 01: min, 59: max\r\n        const handleChangeMinutes = event => {\r\n            const value = Math.max( 0, Math.min( 59, Number( event.target.value ) ) );\r\n            this.setState( {\r\n                minutes: this.appendZero( value )\r\n            } );\r\n        };\r\n\r\n        // Allow to use up/down keys for minutes\r\n        const handleKeyDownMinutes = event => {\r\n            const value = Number( event.target.value );\r\n            if( event.key === 'ArrowUp' && value < 59 ) {\r\n                this.setState( {\r\n                    minutes: this.appendZero( value + 1 )\r\n                } );\r\n            } else if ( event.key === 'ArrowDown' && value > 0 ) {\r\n                this.setState( {\r\n                    minutes: this.appendZero( value - 1 )\r\n                } );\r\n            }\r\n        };\r\n\r\n        return (\r\n            <Fragment>\r\n                <div className=\"advgb-advtime-control\">\r\n                    <label>\r\n                        { this.props.label }\r\n                    </label>\r\n                    <div className=\"advgb-advtime-hours-minutes\">\r\n                        <input\r\n                            type=\"text\"\r\n                            value={\r\n                                hours\r\n                                    ? this.appendZero(\r\n                                        hourConvert.to12Hour( parseInt( hours ) ).hour\r\n                                    ) : ''\r\n                            }\r\n                            onChange={ handleChangeHours }\r\n                            onKeyDown={ handleKeyDownHours }\r\n                            placeholder=\"--\"\r\n                        />\r\n                        <span>:</span>\r\n                        <input\r\n                            type=\"text\"\r\n                            value={\r\n                                minutes ? minutes : ''\r\n                            }\r\n                            onChange={ handleChangeMinutes }\r\n                            onKeyDown={ handleKeyDownMinutes }\r\n                            placeholder=\"--\"\r\n                        />\r\n                    </div>\r\n                    <ButtonGroup className=\"advgb-advtime-meridian\">\r\n                        <Button\r\n                            variant={\r\n                                meridian === null || meridian === 'am' ? 'primary' : 'secondary'\r\n                            }\r\n                            onClick={ () => {\r\n                                this.setState( {\r\n                                    meridian: 'am'\r\n                                } );\r\n                            } }\r\n                            disabled={ hours && minutes ? false : true }\r\n                        >\r\n                            { __( 'AM', 'advanced-gutenberg' ) }\r\n                        </Button>\r\n                        <Button\r\n                            variant={\r\n                                meridian === 'pm' ? 'primary' : 'secondary'\r\n                            }\r\n                            onClick={ () => {\r\n                                this.setState( {\r\n                                    meridian: 'pm'\r\n                                } );\r\n                            } }\r\n                            disabled={ hours && minutes ? false : true }\r\n                        >\r\n                            { __( 'PM', 'advanced-gutenberg' ) }\r\n                        </Button>\r\n                    </ButtonGroup>\r\n                    { hours && minutes &&\r\n        \t\t\t\t<Button\r\n                            className=\"advgb-advtime-remove-icon\"\r\n        \t\t\t\t\ticon=\"no-alt\"\r\n                            onClick={\r\n                                () => {\r\n                                    this.props.onTimeClear();\r\n                                    this.setState( {\r\n                                        hours: null,\r\n                                        minutes: null,\r\n                                        meridian: 'am'\r\n                                    } );\r\n                                }\r\n                            }\r\n        \t\t\t\t/>\r\n        \t\t\t}\r\n                </div>\r\n            </Fragment>\r\n        )\r\n    }\r\n}\r\nexport default AdvTimeClass;\r\n\r\nexport function AdvTimeControl(props) {\r\n    const { label, currentTime, onChangeTime, onTimeClear } = props;\r\n\r\n    return(\r\n        <AdvTimeClass\r\n            label={ label }\r\n            currentTime={ currentTime }\r\n            onChangeTime={ onChangeTime }\r\n            onTimeClear={ onTimeClear }\r\n        />\r\n    );\r\n}\r\n\r\nexport function AdvTimezoneControl(props) {\r\n    const { label, defaultTimezone } = props;\r\n\r\n    return (\r\n        <Fragment>\r\n            { applyFilters( 'advgb.timezoneControl',\r\n                <Fragment>\r\n                    <div className=\"advgb-promo-overlay-area\">\r\n                        <div className=\"advgb-blur\">\r\n                            { label }\r\n                            <SelectControl\r\n                                value={ defaultTimezone }\r\n                                options={ [ {\r\n                                        label: defaultTimezone,\r\n                                        value: defaultTimezone\r\n                                    }\r\n                                ] }\r\n                                disabled={ true }\r\n                            />\r\n                        </div>\r\n                        <div class=\"advgb-pro-overlay-wrap\">\r\n                            <div class=\"advgb-pro-overlay-text advgb-tooltips ppb-tooltips-library click\" data-toggle=\"ppbtooltip\" data-placement=\"top\">\r\n                                <span class=\"advgb-promo-text\">\r\n                                    {__('Pro', 'advanced-gutenberg')}\r\n                                </span>\r\n                                <span class=\"tooltip-text\">\r\n                                    <p>\r\n                                        {__('PublishPress Blocks Pro supports Timezone configuration.', 'advanced-gutenberg')}\r\n                                    </p>\r\n                                    <p>\r\n                                        <a class=\"clickable\" href=\"https://publishpress.com/links/blocks\" target=\"_blank\">\r\n                                            { __( 'Upgrade to Pro', 'advanced-gutenberg' ) }\r\n                                        </a>\r\n                                    </p>\r\n                                    <i></i>\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <></>\r\n                </Fragment>,\r\n                props\r\n            ) }\r\n        </Fragment>\r\n    )\r\n}\r\n","/**\r\n * Generate option title suggestions\r\n *\r\n * @since 3.1.1\r\n * @param options Available options as objects with slug and title. e.g. [{slug: 'subscriber', title: 'Subscriber'}, {slug: 'new_customer', title: 'New Customer'}]\r\n *\r\n * @return {array}  Option slugs. e.g. ['subscriber','new_customer']\r\n */\r\nexport const getOptionSuggestions = function( options ) {\r\n    return options.map( ( item ) => item.title );\r\n}\r\n\r\n/**\r\n * Match option slugs with its option titles\r\n * to display as field value (but NOT saved!).\r\n *\r\n * @since 3.1.1\r\n * @param slugs     Option slugs. e.g. ['subscriber','new_customer'] or [82, 92]\r\n * @param options   Available options as objects with slug and title. e.g. [{slug: 'subscriber', title: 'Subscriber'}, {slug: 'new_customer', title: 'New Customer'}]\r\n *\r\n * @return {array}  Option titles. e.g. ['Subscriber','New Customer']\r\n */\r\nexport const getOptionTitles = function( slugs, options ) {\r\n    let field_value = [];\r\n\r\n    if ( options !== null ) {\r\n        field_value = slugs.map( ( option_slug ) => {\r\n            let find_option = options.find( ( item ) => {\r\n                return item.slug === option_slug;\r\n            } );\r\n            if ( find_option === undefined || ! find_option ) {\r\n                return option_slug; // It should return false but creates empty selections\r\n            }\r\n            return find_option.title;\r\n        } );\r\n    }\r\n\r\n    return field_value;\r\n}\r\n\r\n/**\r\n * Match option titles with its slugs, and save slugs\r\n *\r\n * @since 3.1.1\r\n * @param slugs     Option slugs. e.g. ['subscriber','new_customer']\r\n * @param options   Available options as objects with slug and title. e.g. [{slug: 'subscriber', title: 'Subscriber'}, {slug: 'new_customer', title: 'New Customer'}]\r\n *\r\n * @return {array}  Option slugs. e.g. ['subscriber','new_customer']\r\n */\r\nexport const getOptionSlugs = function( slugs, options ) {\r\n    let slugs_array = [];\r\n\r\n    slugs.map(\r\n        ( option_title ) => {\r\n            const matching_slug = options.find( ( item ) => {\r\n                return item.title === option_title;\r\n            } );\r\n            if ( matching_slug !== undefined ) {\r\n                slugs_array.push( matching_slug.slug );\r\n            }\r\n        }\r\n    )\r\n\r\n    return slugs_array;\r\n}\r\n","import { AdvDateTimeControl, AdvDaysControl, AdvTimeControl, AdvTimezoneControl } from \"../0-adv-components/datetime.jsx\";\r\nimport {\r\n    getOptionSuggestions,\r\n    getOptionTitles,\r\n    getOptionSlugs\r\n} from \"../0-adv-components/utils.jsx\";\r\n\r\n(function (wpI18n, wpComponents, wpElement, wpData) {\r\n    const { __, sprintf } = wpI18n;\r\n    const {\r\n        Card,\r\n        CardBody,\r\n        CardHeader,\r\n        Button,\r\n        TextControl,\r\n        TextareaControl,\r\n        SelectControl,\r\n        ToggleControl,\r\n        RangeControl,\r\n        FormTokenField,\r\n        Modal,\r\n        Notice,\r\n        Spinner,\r\n        PanelBody,\r\n        BaseControl,\r\n        RadioControl,\r\n        DateTimePicker\r\n    } = wpComponents;\r\n    const { Component, Fragment } = wpElement;\r\n    const { useSelect, useDispatch } = wpData;\r\n\r\n\r\n\r\n    const ScheduleControl = ({ index, schedule, onChange, onRemove, getTimezoneLabel, getTimezoneSlug, canRemove }) => {\r\n        return (\r\n            <div style={{\r\n                marginBottom: 5,\r\n                padding: 5,\r\n                border: '1px solid #ddd',\r\n                borderRadius: 4\r\n            }}>\r\n                <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: 16 }}>\r\n                    <h4>{sprintf(__('Schedule #%d', 'advanced-gutenberg'), index + 1)}</h4>\r\n                    {canRemove && (\r\n                        <Button\r\n                            isDestructive\r\n                            isLink\r\n                            onClick={onRemove}\r\n                        >\r\n                            {__('Remove', 'advanced-gutenberg')}\r\n                        </Button>\r\n                    )}\r\n                </div>\r\n\r\n                <AdvDateTimeControl\r\n                    buttonLabel={__('Now', 'advanced-gutenberg')}\r\n                    dateLabel={__('Start showing', 'advanced-gutenberg')}\r\n                    date={schedule.dateFrom}\r\n                    onChangeDate={(newDate) => onChange('dateFrom', newDate)}\r\n                    onDateClear={() => onChange('dateFrom', null)}\r\n                    onInvalidDate={false}\r\n                />\r\n                <AdvDateTimeControl\r\n                    buttonLabel={__('Never', 'advanced-gutenberg')}\r\n                    dateLabel={__('Stop showing', 'advanced-gutenberg')}\r\n                    date={schedule.dateTo || null}\r\n                    onChangeDate={(newDate) => onChange('dateTo', newDate)}\r\n                    onDateClear={() => onChange('dateTo', null)}\r\n                    onInvalidDate={(date) => {\r\n                        if (schedule.dateFrom) {\r\n                            let thisDate = new Date(date.getTime());\r\n                            thisDate.setHours(0, 0, 0, 0);\r\n                            let fromDate = new Date(schedule.dateFrom);\r\n                            fromDate.setHours(0, 0, 0, 0);\r\n                            return thisDate.getTime() < fromDate.getTime();\r\n                        }\r\n                        return false;\r\n                    }}\r\n                />\r\n\r\n                {(schedule.dateFrom && schedule.dateTo) &&\r\n                    <ToggleControl\r\n                        label={__('Recurring', 'advanced-gutenberg')}\r\n                        checked={schedule.recurring || false}\r\n                        onChange={() => onChange('recurring', !schedule.recurring)}\r\n                        help={__('If Recurring is enabled, this block will be displayed every year between the selected dates.', 'advanced-gutenberg')}\r\n                    />\r\n                }\r\n\r\n                <AdvDaysControl\r\n                    label={__('On these days (optional)', 'advanced-gutenberg')}\r\n                    days={schedule.days || []}\r\n                    onChangeDays={(value) => onChange('days', value)}\r\n                />\r\n\r\n                <label style={{ marginBottom: 8, display: 'block' }}>\r\n                    {__('Between these times (optional)', 'advanced-gutenberg')}\r\n                </label>\r\n                <AdvTimeControl\r\n                    label={__('From', 'advanced-gutenberg')}\r\n                    currentTime={schedule.timeFrom || null}\r\n                    onChangeTime={(newTime) => onChange('timeFrom', newTime)}\r\n                    onTimeClear={() => onChange('timeFrom', null)}\r\n                />\r\n                <AdvTimeControl\r\n                    label={__('To', 'advanced-gutenberg')}\r\n                    currentTime={schedule.timeTo || null}\r\n                    onChangeTime={(newTime) => onChange('timeTo', newTime)}\r\n                    onTimeClear={() => onChange('timeTo', null)}\r\n                />\r\n\r\n                {(\r\n                    schedule.timeFrom\r\n                    && schedule.timeTo\r\n                    && (\r\n                        '01/01/2020T' + schedule.timeFrom >= '01/01/2020T' + schedule.timeTo\r\n                    )\r\n                ) &&\r\n                    <Notice\r\n                        className=\"advgb-notice-sidebar\"\r\n                        status=\"warning\"\r\n                        isDismissible={false}\r\n                    >\r\n                        {__('\"To\" time should be after \"From\" time!', 'advanced-gutenberg')}\r\n                    </Notice>\r\n                }\r\n\r\n                <AdvTimezoneControl\r\n                    label={__('Timezone', 'advanced-gutenberg')}\r\n                    defaultTimezone={getTimezoneLabel()}\r\n                    value={schedule.timezone || getTimezoneSlug()}\r\n                    onChangeTimezone={(value) => onChange('timezone', value)}\r\n                />\r\n            </div>\r\n        );\r\n    };\r\n\r\n    class PresetManager extends Component {\r\n        constructor(props) {\r\n            super(props);\r\n            this.state = {\r\n                presets: [],\r\n                currentPreset: this.getDefaultPreset(),\r\n                editingPreset: null,\r\n                showModal: false,\r\n                modalMode: 'create', // 'create' or 'edit',\r\n                loading: false,\r\n                saving: false,\r\n                error: null,\r\n                deleting: false,\r\n                deletingPresetId: null,\r\n                lastAction: null, // 'created', 'cancelled', 'deleted', 'saved', 'loaded'\r\n            };\r\n\r\n            this.handleModalClose = this.handleModalClose.bind(this);\r\n            this.createNewPreset = this.createNewPreset.bind(this);\r\n            this.editPreset = this.editPreset.bind(this);\r\n            this.savePreset = this.savePreset.bind(this);\r\n            this.deletePreset = this.deletePreset.bind(this);\r\n            this.addControlSet = this.addControlSet.bind(this);\r\n            this.removeControlSet = this.removeControlSet.bind(this);\r\n            this.addRuleToSet = this.addRuleToSet.bind(this);\r\n            this.removeRuleFromSet = this.removeRuleFromSet.bind(this);\r\n            this.updateRuleData = this.updateRuleData.bind(this);\r\n        }\r\n\r\n        componentDidMount() {\r\n            this.setState({ loading: true });\r\n            this.initializePresets();\r\n            this.setupDataSync();\r\n        }\r\n\r\n        componentWillUnmount() {\r\n            if (this.dataUnsubscribe && window.AdvGBPresetData) {\r\n                window.AdvGBPresetData.unsubscribe(this.dataUnsubscribe);\r\n            }\r\n        }\r\n\r\n        setupDataSync() {\r\n            // Sync with global data changes\r\n            if (window.AdvGBPresetData && window.AdvGBPresetData.subscribe) {\r\n                this.dataUnsubscribe = window.AdvGBPresetData.subscribe((presets) => {\r\n                    this.setState({\r\n                        presets: Array.isArray(presets) ? presets : [],\r\n                        // Clear editing state if the current preset was deleted\r\n                        editingPreset: this.state.editingPreset && presets.find(p => p.id === this.state.editingPreset.id)\r\n                            ? this.state.editingPreset\r\n                            : null,\r\n                        currentPreset: this.state.currentPreset && presets.find(p => p.id === this.state.currentPreset.id)\r\n                            ? this.state.currentPreset\r\n                            : null\r\n                    });\r\n                });\r\n            }\r\n        }\r\n\r\n        async createSamplePresets() {\r\n            this.setState({ loading: true, error: null });\r\n\r\n            try {\r\n                const response = await wp.apiFetch({\r\n                    path: '/advgb/v1/sample-presets',\r\n                    method: 'POST'\r\n                });\r\n\r\n                if (response.success) {\r\n                    if (window.AdvGBPresetData) {\r\n                        window.AdvGBPresetData.updatePresets(response.presets, 'add');\r\n                    }\r\n\r\n                    this.setState({\r\n                        presets: response.presets,\r\n                        lastAction: 'installed',\r\n                        loading: false\r\n                    });\r\n                }\r\n            } catch (error) {\r\n                console.error('Failed to create sample presets:', error);\r\n                this.setState({\r\n                    error: __('Failed to create sample presets', 'advanced-gutenberg'),\r\n                    loading: false\r\n                });\r\n            }\r\n        }\r\n\r\n\r\n        async initializePresets() {\r\n            try {\r\n                await this.waitForGlobalData();\r\n\r\n                const presets = await this.loadPresetsFromSources();\r\n\r\n                this.setState({\r\n                    presets: presets,\r\n                    loading: false,\r\n                    currentPreset: this.getDefaultPreset()\r\n                });\r\n            } catch (error) {\r\n                console.error('Failed to initialize presets:', error);\r\n                this.setState({\r\n                    loading: false,\r\n                    error: __('Failed to load presets', 'advanced-gutenberg')\r\n                });\r\n            }\r\n        }\r\n\r\n        waitForGlobalData() {\r\n            return new Promise((resolve) => {\r\n                const checkData = () => {\r\n                    if (window.AdvGBPresetData || (window.advgb_block_controls_vars && window.advgb_block_controls_vars.presets)) {\r\n                        resolve();\r\n                    } else {\r\n                        setTimeout(checkData, 100);\r\n                    }\r\n                };\r\n                checkData();\r\n            });\r\n        }\r\n\r\n        async loadPresetsFromSources() {\r\n            try {\r\n                // Try API first\r\n                const response = await wp.apiFetch({\r\n                    path: '/advgb/v1/presets'\r\n                });\r\n\r\n                if (Array.isArray(response)) {\r\n                    return response;\r\n                }\r\n\r\n                // Fallback to global data\r\n                if (window.AdvGBPresetData && typeof window.AdvGBPresetData.getAllPresets === 'function') {\r\n                    const globalPresets = window.AdvGBPresetData.getAllPresets();\r\n                    if (Array.isArray(globalPresets)) {\r\n                        return globalPresets;\r\n                    }\r\n                }\r\n\r\n                // Final fallback\r\n                return [];\r\n\r\n            } catch (error) {\r\n                console.warn('Failed to load presets:', error);\r\n\r\n                // Try global data as fallback\r\n                if (window.AdvGBPresetData && typeof window.AdvGBPresetData.getAllPresets === 'function') {\r\n                    const globalPresets = window.AdvGBPresetData.getAllPresets();\r\n                    if (Array.isArray(globalPresets)) {\r\n                        return globalPresets;\r\n                    }\r\n                }\r\n\r\n                return [];\r\n            }\r\n        }\r\n\r\n        async loadPresets() {\r\n            this.setState({ loading: true });\r\n            try {\r\n                const presets = await this.loadPresetsFromSources();\r\n                this.setState({\r\n                    presets: presets,\r\n                    loading: false,\r\n                    lastAction: presets.length > 0 ? 'loaded' : 'empty'\r\n                });\r\n            } catch (error) {\r\n                console.error('Failed to load presets:', error);\r\n                this.setState({\r\n                    error: __('Failed to load presets', 'advanced-gutenberg'),\r\n                    loading: false,\r\n                    lastAction: 'error'\r\n                });\r\n            }\r\n        }\r\n\r\n        getDefaultPreset() {\r\n            return {\r\n                id: null,\r\n                title: '',\r\n                controlSets: [],\r\n                created: null,\r\n                modified: null\r\n            };\r\n        }\r\n\r\n        loadPresets() {\r\n            if (window.AdvGBPresetData) {\r\n                this.setState({\r\n                    presets: window.AdvGBPresetData.getAllPresets(),\r\n                    loading: false\r\n                });\r\n            }\r\n        }\r\n\r\n        async savePreset(presetData) {\r\n            this.setState({ saving: true, error: null });\r\n\r\n            try {\r\n                const response = await wp.apiFetch({\r\n                    path: '/advgb/v1/presets',\r\n                    method: 'POST',\r\n                    data: presetData\r\n                });\r\n\r\n                if (response.success) {\r\n                    await this.loadPresets();\r\n\r\n                    const newPreset = response.presets.find(p => p.id === response.id);\r\n                    if (newPreset) {\r\n\r\n                        const updatedPresets = response.presets || [];\r\n                        // Update global preset data\r\n                        if (window.AdvGBPresetData) {\r\n                            window.AdvGBPresetData.updatePresets(updatedPresets);\r\n                        }\r\n\r\n                        this.setState({\r\n                            editingPreset: null,\r\n                            currentPreset: null,\r\n                            saving: false,\r\n                            showModal: false,\r\n                            lastAction: 'saved'\r\n                        });\r\n                    } else {\r\n                        this.setState({\r\n                            saving: false,\r\n                            showModal: false,\r\n                            lastAction: 'saved'\r\n                        });\r\n                    }\r\n                    return response;\r\n                }\r\n            } catch (error) {\r\n                this.setState({\r\n                    error: error.message,\r\n                    saving: false,\r\n                    lastAction: 'error'\r\n                });\r\n                throw error;\r\n            }\r\n        }\r\n\r\n        async deletePreset(presetId) {\r\n\r\n            this.setState({\r\n                deleting: true,\r\n                deletingPresetId: presetId\r\n            });\r\n\r\n            try {\r\n                const response = await wp.apiFetch({\r\n                    path: `/advgb/v1/presets/${presetId}`,\r\n                    method: 'DELETE'\r\n                });\r\n                if (response.success) {\r\n                    if (window.AdvGBPresetData) {\r\n                        window.AdvGBPresetData.updatePresets(response.presets, 'delete');\r\n                    }\r\n\r\n                    if (this.state.editingPreset && this.state.editingPreset.id === presetId) {\r\n                        this.setState({\r\n                            editingPreset: null,\r\n                            currentPreset: this.getDefaultPreset()\r\n                        });\r\n                    }\r\n\r\n                    this.setState({\r\n                        deleting: false,\r\n                        deletingPresetId: null,\r\n                        currentPreset: null,\r\n                        editingPreset: null,\r\n                        lastAction: 'deleted'\r\n                    });\r\n\r\n                    await this.loadPresets();\r\n                }\r\n            } catch (error) {\r\n                this.setState({\r\n                    deleting: false,\r\n                    deletingPresetId: null,\r\n                    error: error.message\r\n                });\r\n            }\r\n        }\r\n\r\n        createNewPreset() {\r\n            this.setState({\r\n                currentPreset: this.getDefaultPreset(),\r\n                editingPreset: null,\r\n                modalMode: 'create',\r\n                showModal: true,\r\n                lastAction: 'creating'\r\n            });\r\n        }\r\n\r\n        editPreset(preset) {\r\n            this.setState({\r\n                currentPreset: { ...preset },\r\n                modalMode: 'edit',\r\n                editingPreset: preset,\r\n                showModal: true,\r\n                lastAction: 'editing'\r\n            });\r\n        }\r\n\r\n        addControlSet() {\r\n            const newControlSet = {\r\n                id: Date.now().toString(),\r\n                rules: []\r\n            };\r\n\r\n            const updatedControlSets = [newControlSet, ...this.state.currentPreset.controlSets];\r\n\r\n            this.setState({\r\n                currentPreset: {\r\n                    ...this.state.currentPreset,\r\n                    controlSets: updatedControlSets\r\n                }\r\n            });\r\n        }\r\n\r\n        removeControlSet(setIndex) {\r\n\r\n            const { currentPreset } = this.state;\r\n            const newControlSets = currentPreset.controlSets.filter((_, index) => index !== setIndex);\r\n\r\n            this.setState({\r\n                currentPreset: {\r\n                    ...currentPreset,\r\n                    controlSets: newControlSets\r\n                }\r\n            });\r\n        }\r\n\r\n        addRuleToSet(setIndex, ruleType) {\r\n            const newRule = this.createRuleByType(ruleType);\r\n\r\n            const updatedControlSets = [...this.state.currentPreset.controlSets];\r\n            updatedControlSets[setIndex].rules.unshift(newRule);\r\n\r\n            this.setState({\r\n                currentPreset: {\r\n                    ...this.state.currentPreset,\r\n                    controlSets: updatedControlSets\r\n                }\r\n            });\r\n        }\r\n\r\n        createRuleByType(ruleType) {\r\n            const baseRule = {\r\n                id: Date.now(),\r\n                type: ruleType,\r\n                enabled: true\r\n            };\r\n\r\n            switch (ruleType) {\r\n                case 'schedule':\r\n                    return { ...baseRule, schedules: [] };\r\n                case 'user_role':\r\n                    return { ...baseRule, roles: [], approach: 'include' };\r\n                case 'device_type':\r\n                    return { ...baseRule, devices: [] };\r\n                case 'device_width':\r\n                    return { ...baseRule, min_width: '', max_width: '' };\r\n                case 'browser_device':\r\n                    return { ...baseRule, browsers: [], approach: 'include' };\r\n                case 'operating_system':\r\n                    return { ...baseRule, systems: [], approach: 'include' };\r\n                case 'cookie':\r\n                    return { ...baseRule, name: '', condition: '=', value: '', approach: 'include' };\r\n                case 'user_meta':\r\n                    return { ...baseRule, key: '', condition: '=', value: '', approach: 'include' };\r\n                case 'post_meta':\r\n                    return { ...baseRule, key: '', condition: '=', value: '', approach: 'include' };\r\n                case 'query_string':\r\n                    return { ...baseRule, queries: [], logic: 'all', approach: 'include' };\r\n                case 'capabilities':\r\n                    return { ...baseRule, capabilities: [], approach: 'include' };\r\n                case 'archive':\r\n                    return { ...baseRule, taxonomies: [], approach: 'include' };\r\n                case 'page':\r\n                    return { ...baseRule, pages: [], approach: 'include' };\r\n                default:\r\n                    return baseRule;\r\n            }\r\n        }\r\n\r\n        getAvailableRuleTypes() {\r\n            return [\r\n                { value: 'schedule', label: __('Schedule', 'advanced-gutenberg') },\r\n                { value: 'user_role', label: __('User Roles', 'advanced-gutenberg') },\r\n                { value: 'device_type', label: __('Device Type', 'advanced-gutenberg') },\r\n                { value: 'device_width', label: __('Device Width', 'advanced-gutenberg') },\r\n                { value: 'browser_device', label: __('Browser', 'advanced-gutenberg') },\r\n                { value: 'operating_system', label: __('Operating System', 'advanced-gutenberg') },\r\n                { value: 'cookie', label: __('Cookie', 'advanced-gutenberg') },\r\n                { value: 'user_meta', label: __('User Meta', 'advanced-gutenberg') },\r\n                { value: 'post_meta', label: __('Post Meta', 'advanced-gutenberg') },\r\n                { value: 'query_string', label: __('Query String', 'advanced-gutenberg') },\r\n                { value: 'capabilities', label: __('Capabilities', 'advanced-gutenberg') },\r\n                { value: 'archive', label: __('Archive', 'advanced-gutenberg') },\r\n                { value: 'page', label: __('Page', 'advanced-gutenberg') }\r\n            ];\r\n        }\r\n\r\n        formatDate(dateString) {\r\n            if (!dateString) return __('Never modified', 'advanced-gutenberg');\r\n\r\n            try {\r\n                const date = new Date(dateString);\r\n\r\n                if (isNaN(date.getTime())) {\r\n                    return __('Invalid date', 'advanced-gutenberg');\r\n                }\r\n\r\n                // Format: Sep 12, 2025 2:30 PM\r\n                return date.toLocaleDateString('en-US', {\r\n                    month: 'short',\r\n                    day: 'numeric',\r\n                    year: 'numeric',\r\n                    hour: 'numeric',\r\n                    minute: '2-digit',\r\n                    hour12: true\r\n                });\r\n            } catch (error) {\r\n                console.error('Date formatting error:', error);\r\n                return __('Invalid date', 'advanced-gutenberg');\r\n            }\r\n        }\r\n\r\n        getRuleTypeLabel(ruleType) {\r\n            const ruleTypes = this.getAvailableRuleTypes();\r\n            const ruleTypeObj = ruleTypes.find(type => type.value === ruleType);\r\n            return ruleTypeObj ? ruleTypeObj.label : ruleType;\r\n        }\r\n\r\n\r\n        renderPresetList() {\r\n            const { presets, editingPreset } = this.state;\r\n\r\n            return (\r\n                <div className=\"advgb-presets-list\">\r\n                    {(!presets || presets.length === 0) && (\r\n                        <div className=\"advgb-empty-presets-message\">\r\n                            <div className=\"advgb-empty-icon\"></div>\r\n                            <h3>{__('No presets yet', 'advanced-gutenberg')}</h3>\r\n                            <p>{__('Create your first preset or generate sample presets to get started.', 'advanced-gutenberg')}</p>\r\n                            <div className=\"advgb-empty-actions\">\r\n                                <Button\r\n                                    isPrimary\r\n                                    onClick={() => this.createNewPreset()}\r\n                                    className=\"advgb-create-first-btn\"\r\n                                >\r\n                                    {__('Create First Preset', 'advanced-gutenberg')}\r\n                                </Button>\r\n                                <Button\r\n                                    isSecondary\r\n                                    onClick={() => this.createSamplePresets()}\r\n                                    className=\"advgb-create-samples-btn\"\r\n                                >\r\n                                    {__('Create Sample Presets', 'advanced-gutenberg')}\r\n                                </Button>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n                    {presets && presets.length > 0 && presets.map(preset => {\r\n                        const isActive = editingPreset && editingPreset.id === preset.id;\r\n                        const itemClasses = [\r\n                            'advgb-preset-item',\r\n                            isActive && 'active'\r\n                        ].filter(Boolean).join(' ');\r\n\r\n                        return (\r\n                            <div\r\n                                key={preset.id}\r\n                                className={itemClasses}\r\n                                onClick={() => this.editPreset(preset)}\r\n                            >\r\n                                <div className=\"advgb-preset-content\">\r\n                                    <span className=\"advgb-preset-title\" title={preset.title}>{preset.title}</span>\r\n                                </div>\r\n                                <div className=\"advgb-preset-list-actions\">\r\n                                    <Button\r\n                                        isSmall\r\n                                        icon=\"edit\"\r\n                                        label={__('Edit', 'advanced-gutenberg')}\r\n                                        onClick={(e) => {\r\n                                            e.stopPropagation();\r\n                                            this.editPreset(preset);\r\n                                        }}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        );\r\n                    })}\r\n                </div>\r\n            );\r\n        }\r\n\r\n        renderPresetForm() {\r\n            const { currentPreset, saving } = this.state;\r\n\r\n            if (!currentPreset) return null;\r\n\r\n            return (\r\n                <div className=\"advgb-preset-form\">\r\n                    <div className=\"advgb-preset-header\">\r\n                        <div className=\"advgb-preset-title-section\">\r\n                            <TextControl\r\n                                label={__('Preset Title', 'advanced-gutenberg')}\r\n                                value={currentPreset.title || ''}\r\n                                onChange={(title) => this.setState({\r\n                                    currentPreset: { ...currentPreset, title }\r\n                                })}\r\n                                placeholder={__('Enter preset name', 'advanced-gutenberg')}\r\n                                className=\"advgb-title-input\"\r\n                            />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"advgb-control-sets-container\">\r\n                        <div className=\"advgb-control-sets-header\">\r\n                            <h3>{__('Control Sets', 'advanced-gutenberg')}</h3>\r\n                            <p className=\"advgb-control-sets-description\">\r\n                                {__('Show the block if any control set applies. Each set can contain multiple rules.', 'advanced-gutenberg')}\r\n                            </p>\r\n                            <Button\r\n                                isPrimary\r\n                                icon=\"plus\"\r\n                                onClick={this.addControlSet}\r\n                                className=\"advgb-add-set-btn\"\r\n                            >\r\n                                {__('Add Control Set', 'advanced-gutenberg')}\r\n                            </Button>\r\n                        </div>\r\n\r\n                        <div className=\"advgb-control-sets\">\r\n                            {(currentPreset.controlSets || []).map((controlSet, index) => (\r\n                                <Fragment key={controlSet.id || index}>\r\n                                    {index > 0 && (\r\n                                        <div className=\"advgb-set-separator\">\r\n                                            <span className=\"advgb-separator-text\">{__('OR', 'advanced-gutenberg')}</span>\r\n                                        </div>\r\n                                    )}\r\n                                    {this.renderControlSet(controlSet, index)}\r\n                                </Fragment>\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"advgb-preset-actions\">\r\n                        {currentPreset.id && (\r\n                            <div className=\"ppb-tooltips-library click advgb-delete-preset-tooltip\" data-toggle=\"ppbtooltip\" data-placement=\"top\">\r\n                                <Button\r\n                                    className=\"advgb-delete-preset-btn is-destructive-outline\"\r\n                                    icon=\"trash\"\r\n                                    label={__('Delete Preset', 'advanced-gutenberg')}\r\n                                >\r\n                                    {__('Delete Preset', 'advanced-gutenberg')}\r\n                                </Button>\r\n                                <div className=\"tooltip-text\">\r\n                                    <p>\r\n                                        {__('Are you sure you want to delete preset?', 'advanced-gutenberg')}\r\n                                        <Button\r\n                                            isSmall\r\n                                            isDestructive\r\n                                            label={__('Delete Preset', 'advanced-gutenberg')}\r\n                                            onClick={(e) => {\r\n                                                e.stopPropagation();\r\n                                                this.deletePreset(currentPreset.id);\r\n                                            }}\r\n                                        >\r\n                                            <strong>\r\n                                                {__('Yes, Delete Preset.', 'advanced-gutenberg')}\r\n                                            </strong>\r\n                                        </Button>\r\n                                        |\r\n                                        <Button\r\n                                            isSmall\r\n                                            label={__('No, Cancel', 'advanced-gutenberg')}\r\n                                        >\r\n                                            {__('No, Cancel.', 'advanced-gutenberg')}\r\n                                        </Button>\r\n                                    </p>\r\n                                    <i></i>\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n                        <Button\r\n                            isPrimary\r\n                            onClick={() => this.savePreset(this.state.currentPreset)}\r\n                            disabled={saving || !currentPreset.title}\r\n                            isBusy={saving}\r\n                            className=\"advgb-save-btn\"\r\n                        >\r\n                            {saving ? __('Saving...', 'advanced-gutenberg') : __('Save Preset', 'advanced-gutenberg')}\r\n                        </Button>\r\n                        <Button\r\n                            isSecondary\r\n                            onClick={this.handleModalClose}\r\n                            disabled={saving}\r\n                        >\r\n                            {__('Cancel', 'advanced-gutenberg')}\r\n                        </Button>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        renderControlSet(controlSet, setIndex) {\r\n            return (\r\n                <div className=\"advgb-control-set\" key={controlSet.id || setIndex}>\r\n                    <div className=\"advgb-control-set-header\">\r\n                        <div className=\"advgb-set-info\">\r\n                            <h4>{__('Control Set', 'advanced-gutenberg')} {setIndex + 1}</h4>\r\n                            <p>{__('Show the block if any rule applies. Rules are evaluated with AND logic.', 'advanced-gutenberg')}</p>\r\n                        </div>\r\n                        <div className=\"advgb-set-actions\">\r\n                            <SelectControl\r\n                                value=\"\"\r\n                                options={[\r\n                                    { value: '', label: __('Add Rule', 'advanced-gutenberg') },\r\n                                    ...this.getAvailableRuleTypes()\r\n                                ]}\r\n                                onChange={(ruleType) => {\r\n                                    if (ruleType) {\r\n                                        this.addRuleToSet(setIndex, ruleType);\r\n                                    }\r\n                                }}\r\n                                className=\"advgb-add-rule-select\"\r\n                            />\r\n                            <div className=\"ppb-tooltips-library click\" data-toggle=\"ppbtooltip\" data-placement=\"left\">\r\n                                <Button\r\n                                    isSmall\r\n                                    isDestructive\r\n                                    icon=\"trash\"\r\n                                    label={__('Delete Set', 'advanced-gutenberg')}\r\n                                />\r\n                                <div className=\"tooltip-text\">\r\n                                    <p>\r\n                                        {__('Are you sure you want to delete set?', 'advanced-gutenberg')}\r\n                                        <Button\r\n                                            isSmall\r\n                                            isDestructive\r\n                                            label={__('Delete Set', 'advanced-gutenberg')}\r\n                                            onClick={() => this.removeControlSet(setIndex)}\r\n                                        >\r\n                                            <strong>\r\n                                                {__('Yes, Delete Set.', 'advanced-gutenberg')}\r\n                                            </strong>\r\n                                        </Button>\r\n                                        |\r\n                                        <Button\r\n                                            isSmall\r\n                                            label={__('No, Cancel', 'advanced-gutenberg')}\r\n                                        >\r\n                                            {__('No, Cancel.', 'advanced-gutenberg')}\r\n                                        </Button>\r\n                                    </p>\r\n                                    <i></i>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"advgb-control-set-rules\">\r\n                        {(controlSet.rules || []).map((rule, ruleIndex) => (\r\n                            <div key={rule.id || ruleIndex} className=\"advgb-rule-container\">\r\n                                {ruleIndex > 0 && (\r\n                                    <div className=\"advgb-rule-separator\">\r\n                                        <span className=\"advgb-separator-text\">{__('AND', 'advanced-gutenberg')}</span>\r\n                                    </div>\r\n                                )}\r\n                                {this.renderControlRule(rule, setIndex, ruleIndex)}\r\n                            </div>\r\n                        ))}\r\n\r\n                        {(!controlSet.rules || controlSet.rules.length === 0) && (\r\n                            <div className=\"advgb-no-rules\">\r\n                                <div className=\"advgb-no-rules-icon\"></div>\r\n                                <p>{__('No rules added yet. Add rules to define when this block should be visible.', 'advanced-gutenberg')}</p>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        renderControlRule(rule, setIndex, ruleIndex) {\r\n            return (\r\n                <div className=\"advgb-control-rule\">\r\n                    <div className=\"advgb-rule-header\">\r\n                        <div className=\"advgb-rule-type\">\r\n                            <span className=\"advgb-rule-type-icon\"></span>\r\n                            <span className=\"advgb-rule-type-label\">{this.getRuleTypeLabel(rule.type)}</span>\r\n                        </div>\r\n                        <div className=\"ppb-tooltips-library click\" data-toggle=\"ppbtooltip\" data-placement=\"left\">\r\n                            <Button\r\n                                isSmall\r\n                                isDestructive\r\n                                icon=\"trash\"\r\n                                label={__('Remove Rule', 'advanced-gutenberg')}\r\n                            />\r\n                            <div className=\"tooltip-text\">\r\n                                <p>\r\n                                    {__('Are you sure you want to remove rule?', 'advanced-gutenberg')}\r\n                                    <Button\r\n                                        isSmall\r\n                                        isDestructive\r\n                                        label={__('Remove Rule', 'advanced-gutenberg')}\r\n                                        onClick={() => this.removeRuleFromSet(setIndex, ruleIndex)}\r\n                                    >\r\n                                        <strong>\r\n                                            {__('Yes, Remove Rule.', 'advanced-gutenberg')}\r\n                                        </strong>\r\n                                    </Button>\r\n                                    |\r\n                                    <Button\r\n                                        isSmall\r\n                                        label={__('No, Cancel', 'advanced-gutenberg')}\r\n                                    >\r\n                                        {__('No, Cancel.', 'advanced-gutenberg')}\r\n                                    </Button>\r\n                                </p>\r\n                                <i></i>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"advgb-rule-content\">\r\n                        {this.renderRuleConfiguration(rule, setIndex, ruleIndex)}\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        renderRuleConfiguration(rule, setIndex, ruleIndex) {\r\n            switch (rule.type) {\r\n                case 'schedule':\r\n                    return this.renderScheduleConfig(rule, setIndex, ruleIndex);\r\n                case 'user_role':\r\n                    return this.renderUserRoleConfig(rule, setIndex, ruleIndex);\r\n                case 'device_type':\r\n                    return this.renderDeviceTypeConfig(rule, setIndex, ruleIndex);\r\n                case 'device_width':\r\n                    return this.renderDeviceWidthConfig(rule, setIndex, ruleIndex);\r\n                case 'browser_device':\r\n                    return this.renderBrowserDeviceConfig(rule, setIndex, ruleIndex);\r\n                case 'operating_system':\r\n                    return this.renderOperatingSystemConfig(rule, setIndex, ruleIndex);\r\n                case 'cookie':\r\n                    return this.renderCookieConfig(rule, setIndex, ruleIndex);\r\n                case 'user_meta':\r\n                    return this.renderUserMetaConfig(rule, setIndex, ruleIndex);\r\n                case 'post_meta':\r\n                    return this.renderPostMetaConfig(rule, setIndex, ruleIndex);\r\n                case 'query_string':\r\n                    return this.renderQueryStringConfig(rule, setIndex, ruleIndex);\r\n                case 'capabilities':\r\n                    return this.renderCapabilitiesConfig(rule, setIndex, ruleIndex);\r\n                case 'archive':\r\n                    return this.renderArchiveConfig(rule, setIndex, ruleIndex);\r\n                case 'page':\r\n                    return this.renderPageConfig(rule, setIndex, ruleIndex);\r\n                default:\r\n                    return <p>{__('Configuration for this rule type is missing.', 'advanced-gutenberg')}</p>;\r\n            }\r\n        }\r\n\r\n        updateRuleData(setIndex, ruleIndex, key, value) {\r\n            const { currentPreset } = this.state;\r\n            const newControlSets = [...currentPreset.controlSets];\r\n            newControlSets[setIndex].rules[ruleIndex][key] = value;\r\n\r\n            this.setState({\r\n                currentPreset: {\r\n                    ...currentPreset,\r\n                    controlSets: newControlSets\r\n                }\r\n            });\r\n        }\r\n\r\n        removeRuleFromSet(setIndex, ruleIndex) {\r\n\r\n            const { currentPreset } = this.state;\r\n            const newControlSets = [...currentPreset.controlSets];\r\n            newControlSets[setIndex].rules.splice(ruleIndex, 1);\r\n\r\n            this.setState({\r\n                currentPreset: {\r\n                    ...currentPreset,\r\n                    controlSets: newControlSets\r\n                }\r\n            });\r\n        }\r\n\r\n        handleModalClose() {\r\n            this.setState({\r\n                showModal: false,\r\n                currentPreset: null,\r\n                editingPreset: null,\r\n                modalMode: 'create',\r\n                lastAction: 'cancelled'\r\n            });\r\n        }\r\n\r\n        getBrowserOptions() {\r\n            return [\r\n                { slug: 'chrome', title: 'Chrome' },\r\n                { slug: 'firefox', title: 'Firefox' },\r\n                { slug: 'safari', title: 'Safari' },\r\n                { slug: 'edge', title: 'Edge' },\r\n                { slug: 'opera', title: 'Opera' },\r\n                { slug: 'internet explorer', title: 'Internet Explorer' }\r\n            ];\r\n        }\r\n\r\n        getOperatingSystemOptions() {\r\n            return [\r\n                { slug: 'windows', title: 'Windows' },\r\n                { slug: 'mac', title: 'macOS' },\r\n                { slug: 'linux', title: 'Linux' },\r\n                { slug: 'android', title: 'Android' },\r\n                { slug: 'ios', title: 'iOS' },\r\n                { slug: 'chrome os', title: 'Chrome OS' }\r\n            ];\r\n        }\r\n\r\n        getConditionOptions() {\r\n            return [\r\n                { label: '=', value: '=' },\r\n                { label: '!=', value: '!=' },\r\n                { label: '<', value: '<' },\r\n                { label: '>', value: '>' },\r\n                { label: '<=', value: '<=' },\r\n                { label: '>=', value: '>=' },\r\n                { label: 'contains', value: 'contains' },\r\n                { label: 'begins with', value: 'beginsWith' },\r\n                { label: 'ends with', value: 'endsWith' },\r\n                { label: 'does not contain', value: 'doesNotContain' },\r\n                { label: 'does not begin with', value: 'doesNotBeginWith' },\r\n                { label: 'does not end with', value: 'doesNotEndWith' },\r\n                { label: 'is null', value: 'null' },\r\n                { label: 'is not null', value: 'notNull' }\r\n            ];\r\n        }\r\n\r\n        getUserRoles() {\r\n            return typeof advgb_block_controls_vars.user_roles !== 'undefined'\r\n                && advgb_block_controls_vars.user_roles.length > 0\r\n                ? advgb_block_controls_vars.user_roles\r\n                : [];\r\n        }\r\n\r\n        getCapabilitiesOptions() {\r\n            const capabilities = typeof advgb_block_controls_vars.capabilities !== 'undefined'\r\n                ? advgb_block_controls_vars.capabilities\r\n                : [];\r\n\r\n            return capabilities.map(cap => ({\r\n                slug: cap,\r\n                title: cap.split('_').map(word =>\r\n                    word.charAt(0).toUpperCase() + word.slice(1)\r\n                ).join(' ')\r\n            }));\r\n        }\r\n\r\n        getArchiveOptions() {\r\n            return typeof advgb_block_controls_vars.taxonomies !== 'undefined'\r\n                && advgb_block_controls_vars.taxonomies.length > 0\r\n                ? advgb_block_controls_vars.taxonomies\r\n                : [];\r\n        }\r\n\r\n        getPageOptions() {\r\n            return typeof advgb_block_controls_vars.page !== 'undefined'\r\n                && advgb_block_controls_vars.page.length > 0\r\n                ? advgb_block_controls_vars.page\r\n                : [];\r\n        }\r\n\r\n        getTimezoneLabel() {\r\n            return __('WordPress settings timezone', 'advanced-gutenberg');\r\n        }\r\n\r\n        getTimezoneSlug() {\r\n            return typeof advgbBlocks.timezone !== 'undefined' && advgbBlocks.timezone.length\r\n                ? advgbBlocks.timezone\r\n                : 'UTC';\r\n        }\r\n\r\n\r\n        renderScheduleConfig(rule, setIndex, ruleIndex) {\r\n            const schedules = rule.schedules && rule.schedules.length > 0\r\n                ? rule.schedules\r\n                : [{\r\n                    dateFrom: null,\r\n                    dateTo: null,\r\n                    recurring: false,\r\n                    days: [],\r\n                    timeFrom: null,\r\n                    timeTo: null,\r\n                    timezone: this.getTimezoneSlug()\r\n                }];\r\n\r\n            return (\r\n                <Fragment>\r\n                    {schedules.map((schedule, scheduleIndex) => (\r\n                        <ScheduleControl\r\n                            key={scheduleIndex}\r\n                            index={scheduleIndex}\r\n                            schedule={schedule}\r\n                            onChange={(key, value) => {\r\n                                const updatedSchedules = [...schedules];\r\n                                updatedSchedules[scheduleIndex][key] = value;\r\n                                this.updateRuleData(setIndex, ruleIndex, 'schedules', updatedSchedules);\r\n                            }}\r\n                            onRemove={() => {\r\n                                if (schedules.length > 1) {\r\n                                    const updatedSchedules = schedules.filter((_, idx) => idx !== scheduleIndex);\r\n                                    this.updateRuleData(setIndex, ruleIndex, 'schedules', updatedSchedules);\r\n                                }\r\n                            }}\r\n                            getTimezoneLabel={() => this.getTimezoneLabel()}\r\n                            getTimezoneSlug={() => this.getTimezoneSlug()}\r\n                            canRemove={schedules.length > 1}\r\n                        />\r\n                    ))}\r\n                    <div style={{ marginBottom: 16 }}>\r\n                        <Button\r\n                            style={{ width: '100%', display: 'block' }}\r\n                            isSecondary\r\n                            onClick={() => {\r\n                                const newSchedule = {\r\n                                    dateFrom: null,\r\n                                    dateTo: null,\r\n                                    recurring: false,\r\n                                    days: [],\r\n                                    timeFrom: null,\r\n                                    timeTo: null,\r\n                                    timezone: this.getTimezoneSlug()\r\n                                };\r\n                                this.updateRuleData(setIndex, ruleIndex, 'schedules', [...schedules, newSchedule]);\r\n                            }}\r\n                        >\r\n                            {__('Add Another Schedule', 'advanced-gutenberg')}\r\n                        </Button>\r\n                    </div>\r\n                </Fragment>\r\n            );\r\n        }\r\n\r\n        renderUserRoleConfig(rule, setIndex, ruleIndex) {\r\n            return (\r\n                <Fragment>\r\n                    <SelectControl\r\n                        label={__('Approach', 'advanced-gutenberg')}\r\n                        value={rule.approach || 'public'}\r\n                        options={[\r\n                            { value: 'public', label: __('Show to everyone', 'advanced-gutenberg') },\r\n                            { value: 'hidden', label: __('Hide from everyone', 'advanced-gutenberg') },\r\n                            { value: 'login', label: __('Show to logged in users', 'advanced-gutenberg') },\r\n                            { value: 'logout', label: __('Show to logged out users', 'advanced-gutenberg') },\r\n                            { value: 'include', label: __('Show to selected user roles', 'advanced-gutenberg') },\r\n                            { value: 'exclude', label: __('Hide from selected user roles', 'advanced-gutenberg') }\r\n                        ]}\r\n                        onChange={(value) => this.updateRuleData(setIndex, ruleIndex, 'approach', value)}\r\n                    />\r\n                    {(rule.approach === 'include' || rule.approach === 'exclude') && (\r\n                        <FormTokenField\r\n                            multiple\r\n                            label={__('Select user roles', 'advanced-gutenberg')}\r\n                            placeholder={__('Search roles', 'advanced-gutenberg')}\r\n                            suggestions={getOptionSuggestions(this.getUserRoles())}\r\n                            maxSuggestions={10}\r\n                            value={getOptionTitles(rule.roles || [], this.getUserRoles())}\r\n                            onChange={(value) => {\r\n                                this.updateRuleData(setIndex, ruleIndex, 'roles', getOptionSlugs(value, this.getUserRoles()));\r\n                            }}\r\n                            __experimentalExpandOnFocus\r\n                        />\r\n                    )}\r\n                </Fragment>\r\n            );\r\n        }\r\n\r\n        renderDeviceTypeConfig(rule, setIndex, ruleIndex) {\r\n            const devices = rule.devices || [];\r\n            return (\r\n                <Fragment>\r\n                    <div style={{ paddingLeft: '17%' }}>\r\n                        {['desktop', 'tablet', 'mobile', 'robot'].map(deviceType => (\r\n                            <ToggleControl\r\n                                key={deviceType}\r\n                                label={__(deviceType.charAt(0).toUpperCase() + deviceType.slice(1), 'advanced-gutenberg')}\r\n                                checked={devices.includes(deviceType)}\r\n                                onChange={() => {\r\n                                    const newDevices = devices.includes(deviceType)\r\n                                        ? devices.filter(d => d !== deviceType)\r\n                                        : [...devices, deviceType];\r\n                                    this.updateRuleData(setIndex, ruleIndex, 'devices', newDevices);\r\n                                }}\r\n                            />\r\n                        ))}\r\n                    </div>\r\n                </Fragment>\r\n            );\r\n        }\r\n\r\n        renderDeviceWidthConfig(rule, setIndex, ruleIndex) {\r\n            return (\r\n                <Fragment>\r\n                    <TextControl\r\n                        type=\"number\"\r\n                        label={__('Minimum width (px)', 'advanced-gutenberg')}\r\n                        value={rule.min_width || ''}\r\n                        onChange={(value) => this.updateRuleData(setIndex, ruleIndex, 'min_width', value)}\r\n                        placeholder={__('No minimum', 'advanced-gutenberg')}\r\n                    />\r\n                    <TextControl\r\n                        type=\"number\"\r\n                        label={__('Maximum width (px)', 'advanced-gutenberg')}\r\n                        value={rule.max_width || ''}\r\n                        onChange={(value) => this.updateRuleData(setIndex, ruleIndex, 'max_width', value)}\r\n                        placeholder={__('No maximum', 'advanced-gutenberg')}\r\n                    />\r\n                </Fragment>\r\n            );\r\n        }\r\n\r\n        renderBrowserDeviceConfig(rule, setIndex, ruleIndex) {\r\n            return (\r\n                <Fragment>\r\n                    <FormTokenField\r\n                        multiple\r\n                        label={__('Select Browsers', 'advanced-gutenberg')}\r\n                        placeholder={__('Search browsers', 'advanced-gutenberg')}\r\n                        suggestions={getOptionSuggestions(this.getBrowserOptions())}\r\n                        maxSuggestions={10}\r\n                        value={getOptionTitles(rule.browsers || [], this.getBrowserOptions())}\r\n                        onChange={(value) => {\r\n                            this.updateRuleData(setIndex, ruleIndex, 'browsers', getOptionSlugs(value, this.getBrowserOptions()));\r\n                        }}\r\n                        __experimentalExpandOnFocus\r\n                    />\r\n                    <SelectControl\r\n                        label={__('Approach', 'advanced-gutenberg')}\r\n                        value={rule.approach || 'include'}\r\n                        options={[\r\n                            { label: __('Show to selected browsers', 'advanced-gutenberg'), value: 'include' },\r\n                            { label: __('Hide from selected browsers', 'advanced-gutenberg'), value: 'exclude' }\r\n                        ]}\r\n                        onChange={(value) => this.updateRuleData(setIndex, ruleIndex, 'approach', value)}\r\n                    />\r\n                </Fragment>\r\n            );\r\n        }\r\n\r\n        renderOperatingSystemConfig(rule, setIndex, ruleIndex) {\r\n            return (\r\n                <Fragment>\r\n                    <FormTokenField\r\n                        multiple\r\n                        label={__('Select Operating Systems', 'advanced-gutenberg')}\r\n                        placeholder={__('Search operating systems', 'advanced-gutenberg')}\r\n                        suggestions={getOptionSuggestions(this.getOperatingSystemOptions())}\r\n                        maxSuggestions={10}\r\n                        value={getOptionTitles(rule.systems || [], this.getOperatingSystemOptions())}\r\n                        onChange={(value) => {\r\n                            this.updateRuleData(setIndex, ruleIndex, 'systems', getOptionSlugs(value, this.getOperatingSystemOptions()));\r\n                        }}\r\n                        __experimentalExpandOnFocus\r\n                    />\r\n                    <SelectControl\r\n                        label={__('Approach', 'advanced-gutenberg')}\r\n                        value={rule.approach || 'include'}\r\n                        options={[\r\n                            { label: __('Show to selected OS', 'advanced-gutenberg'), value: 'include' },\r\n                            { label: __('Hide from selected OS', 'advanced-gutenberg'), value: 'exclude' }\r\n                        ]}\r\n                        onChange={(value) => this.updateRuleData(setIndex, ruleIndex, 'approach', value)}\r\n                    />\r\n                </Fragment>\r\n            );\r\n        }\r\n\r\n        renderCookieConfig(rule, setIndex, ruleIndex) {\r\n            return (\r\n                <Fragment>\r\n                    <TextControl\r\n                        label={__('Cookie Name', 'advanced-gutenberg')}\r\n                        value={rule.name || ''}\r\n                        onChange={(value) => this.updateRuleData(setIndex, ruleIndex, 'name', value)}\r\n                    />\r\n                    <SelectControl\r\n                        label={__('Condition', 'advanced-gutenberg')}\r\n                        value={rule.condition || '='}\r\n                        options={this.getConditionOptions()}\r\n                        onChange={(value) => this.updateRuleData(setIndex, ruleIndex, 'condition', value)}\r\n                    />\r\n                    <TextControl\r\n                        label={__('Value', 'advanced-gutenberg')}\r\n                        value={rule.value || ''}\r\n                        onChange={(value) => this.updateRuleData(setIndex, ruleIndex, 'value', value)}\r\n                    />\r\n                    <SelectControl\r\n                        label={__('Approach', 'advanced-gutenberg')}\r\n                        value={rule.approach || 'include'}\r\n                        options={[\r\n                            { label: __('Show when condition matches', 'advanced-gutenberg'), value: 'include' },\r\n                            { label: __('Hide when condition matches', 'advanced-gutenberg'), value: 'exclude' }\r\n                        ]}\r\n                        onChange={(value) => this.updateRuleData(setIndex, ruleIndex, 'approach', value)}\r\n                    />\r\n                </Fragment>\r\n            );\r\n        }\r\n\r\n        renderUserMetaConfig(rule, setIndex, ruleIndex) {\r\n            return (\r\n                <Fragment>\r\n                    <TextControl\r\n                        label={__('Meta Key', 'advanced-gutenberg')}\r\n                        value={rule.key || ''}\r\n                        onChange={(value) => this.updateRuleData(setIndex, ruleIndex, 'key', value)}\r\n                    />\r\n                    <SelectControl\r\n                        label={__('Condition', 'advanced-gutenberg')}\r\n                        value={rule.condition || '='}\r\n                        options={this.getConditionOptions()}\r\n                        onChange={(value) => this.updateRuleData(setIndex, ruleIndex, 'condition', value)}\r\n                    />\r\n                    <TextControl\r\n                        label={__('Value', 'advanced-gutenberg')}\r\n                        value={rule.value || ''}\r\n                        onChange={(value) => this.updateRuleData(setIndex, ruleIndex, 'value', value)}\r\n                    />\r\n                    <SelectControl\r\n                        label={__('Approach', 'advanced-gutenberg')}\r\n                        value={rule.approach || 'include'}\r\n                        options={[\r\n                            { label: __('Show when condition matches', 'advanced-gutenberg'), value: 'include' },\r\n                            { label: __('Hide when condition matches', 'advanced-gutenberg'), value: 'exclude' }\r\n                        ]}\r\n                        onChange={(value) => this.updateRuleData(setIndex, ruleIndex, 'approach', value)}\r\n                    />\r\n                </Fragment>\r\n            );\r\n        }\r\n\r\n        // Post Meta Configuration\r\n        renderPostMetaConfig(rule, setIndex, ruleIndex) {\r\n            return (\r\n                <Fragment>\r\n                    <TextControl\r\n                        label={__('Meta Key', 'advanced-gutenberg')}\r\n                        value={rule.key || ''}\r\n                        onChange={(value) => this.updateRuleData(setIndex, ruleIndex, 'key', value)}\r\n                    />\r\n                    <SelectControl\r\n                        label={__('Condition', 'advanced-gutenberg')}\r\n                        value={rule.condition || '='}\r\n                        options={this.getConditionOptions()}\r\n                        onChange={(value) => this.updateRuleData(setIndex, ruleIndex, 'condition', value)}\r\n                    />\r\n                    <TextControl\r\n                        label={__('Value', 'advanced-gutenberg')}\r\n                        value={rule.value || ''}\r\n                        onChange={(value) => this.updateRuleData(setIndex, ruleIndex, 'value', value)}\r\n                    />\r\n                    <SelectControl\r\n                        label={__('Approach', 'advanced-gutenberg')}\r\n                        value={rule.approach || 'include'}\r\n                        options={[\r\n                            { label: __('Show when condition matches', 'advanced-gutenberg'), value: 'include' },\r\n                            { label: __('Hide when condition matches', 'advanced-gutenberg'), value: 'exclude' }\r\n                        ]}\r\n                        onChange={(value) => this.updateRuleData(setIndex, ruleIndex, 'approach', value)}\r\n                    />\r\n                </Fragment>\r\n            );\r\n        }\r\n\r\n        renderQueryStringConfig(rule, setIndex, ruleIndex) {\r\n            const queriesValue = Array.isArray(rule.queries)\r\n                ? rule.queries.join('\\n')\r\n                : (rule.queries || '');\r\n            return (\r\n                <Fragment>\r\n                    <TextareaControl\r\n                        label={__('Query Parameters', 'advanced-gutenberg')}\r\n                        help={__('Enter query parameter names, one per line', 'advanced-gutenberg')}\r\n                        value={queriesValue}\r\n                        onChange={(value) => {\r\n                            this.updateRuleData(setIndex, ruleIndex, 'queries', value);\r\n                        }}\r\n                        placeholder={__('utm_source\\nutm_medium\\nref', 'advanced-gutenberg')}\r\n                    />\r\n                    <SelectControl\r\n                        label={__('Logic', 'advanced-gutenberg')}\r\n                        value={rule.logic || 'all'}\r\n                        options={[\r\n                            { label: __('All parameters must be present', 'advanced-gutenberg'), value: 'all' },\r\n                            { label: __('Any parameter must be present', 'advanced-gutenberg'), value: 'any' }\r\n                        ]}\r\n                        onChange={(value) => this.updateRuleData(setIndex, ruleIndex, 'logic', value)}\r\n                    />\r\n                    <SelectControl\r\n                        label={__('Approach', 'advanced-gutenberg')}\r\n                        value={rule.approach || 'include'}\r\n                        options={[\r\n                            { label: __('Show when condition matches', 'advanced-gutenberg'), value: 'include' },\r\n                            { label: __('Hide when condition matches', 'advanced-gutenberg'), value: 'exclude' }\r\n                        ]}\r\n                        onChange={(value) => this.updateRuleData(setIndex, ruleIndex, 'approach', value)}\r\n                    />\r\n                </Fragment>\r\n            );\r\n        }\r\n\r\n        renderCapabilitiesConfig(rule, setIndex, ruleIndex) {\r\n            return (\r\n                <Fragment>\r\n                    <FormTokenField\r\n                        multiple\r\n                        label={__('Select Capabilities', 'advanced-gutenberg')}\r\n                        placeholder={__('Search capabilities', 'advanced-gutenberg')}\r\n                        suggestions={getOptionSuggestions(this.getCapabilitiesOptions())}\r\n                        maxSuggestions={10}\r\n                        value={getOptionTitles(rule.capabilities || [], this.getCapabilitiesOptions())}\r\n                        onChange={(value) => {\r\n                            this.updateRuleData(setIndex, ruleIndex, 'capabilities', getOptionSlugs(value, this.getCapabilitiesOptions()));\r\n                        }}\r\n                        __experimentalExpandOnFocus\r\n                    />\r\n                    <SelectControl\r\n                        label={__('Approach', 'advanced-gutenberg')}\r\n                        value={rule.approach || 'include'}\r\n                        options={[\r\n                            { label: __('Show to users with selected capabilities', 'advanced-gutenberg'), value: 'include' },\r\n                            { label: __('Hide from users with selected capabilities', 'advanced-gutenberg'), value: 'exclude' }\r\n                        ]}\r\n                        onChange={(value) => this.updateRuleData(setIndex, ruleIndex, 'approach', value)}\r\n                    />\r\n                </Fragment>\r\n            );\r\n        }\r\n\r\n        renderArchiveConfig(rule, setIndex, ruleIndex) {\r\n            return (\r\n                <Fragment>\r\n                    <FormTokenField\r\n                        multiple\r\n                        label={__('Select Archive Types', 'advanced-gutenberg')}\r\n                        placeholder={__('Search archive types', 'advanced-gutenberg')}\r\n                        suggestions={getOptionSuggestions(this.getArchiveOptions())}\r\n                        maxSuggestions={10}\r\n                        value={getOptionTitles(rule.archives || [], this.getArchiveOptions())}\r\n                        onChange={(value) => {\r\n                            this.updateRuleData(setIndex, ruleIndex, 'archives', getOptionSlugs(value, this.getArchiveOptions()));\r\n                        }}\r\n                        __experimentalExpandOnFocus\r\n                    />\r\n                    <SelectControl\r\n                        label={__('Approach', 'advanced-gutenberg')}\r\n                        value={rule.approach || 'include'}\r\n                        options={[\r\n                            { label: __('Show on selected archives', 'advanced-gutenberg'), value: 'include' },\r\n                            { label: __('Hide from selected archives', 'advanced-gutenberg'), value: 'exclude' }\r\n                        ]}\r\n                        onChange={(value) => this.updateRuleData(setIndex, ruleIndex, 'approach', value)}\r\n                    />\r\n                </Fragment>\r\n            );\r\n        }\r\n\r\n        renderPageConfig(rule, setIndex, ruleIndex) {\r\n            return (\r\n                <Fragment>\r\n                    <FormTokenField\r\n                        multiple\r\n                        label={__('Select Pages', 'advanced-gutenberg')}\r\n                        placeholder={__('Search pages', 'advanced-gutenberg')}\r\n                        suggestions={getOptionSuggestions(this.getPageOptions())}\r\n                        maxSuggestions={10}\r\n                        value={getOptionTitles(rule.pages || [], this.getPageOptions())}\r\n                        onChange={(value) => {\r\n                            this.updateRuleData(setIndex, ruleIndex, 'pages', getOptionSlugs(value, this.getPageOptions()));\r\n                        }}\r\n                        __experimentalExpandOnFocus\r\n                    />\r\n                    <SelectControl\r\n                        label={__('Approach', 'advanced-gutenberg')}\r\n                        value={rule.approach || 'include'}\r\n                        options={[\r\n                            { label: __('Show on selected pages', 'advanced-gutenberg'), value: 'include' },\r\n                            { label: __('Hide from selected pages', 'advanced-gutenberg'), value: 'exclude' }\r\n                        ]}\r\n                        onChange={(value) => this.updateRuleData(setIndex, ruleIndex, 'approach', value)}\r\n                    />\r\n                </Fragment>\r\n            );\r\n        }\r\n\r\n        getUserRoles() {\r\n            return typeof advgb_block_controls_vars.user_roles !== 'undefined'\r\n                ? advgb_block_controls_vars.user_roles\r\n                : [];\r\n        }\r\n\r\n        getCapabilitiesOptions() {\r\n            const capabilities = typeof advgb_block_controls_vars.capabilities !== 'undefined'\r\n                ? advgb_block_controls_vars.capabilities\r\n                : [];\r\n\r\n            return capabilities.map(cap => ({\r\n                slug: cap,\r\n                title: cap.split('_').map(word =>\r\n                    word.charAt(0).toUpperCase() + word.slice(1)\r\n                ).join(' ')\r\n            }));\r\n        }\r\n\r\n        getArchiveOptions() {\r\n            return [\r\n                { slug: 'category', title: __('Category Archives', 'advanced-gutenberg') },\r\n                { slug: 'tag', title: __('Tag Archives', 'advanced-gutenberg') },\r\n                { slug: 'date', title: __('Date Archives', 'advanced-gutenberg') },\r\n                { slug: 'author', title: __('Author Archives', 'advanced-gutenberg') }\r\n            ];\r\n        }\r\n\r\n        getPageOptions() {\r\n            return typeof advgb_block_controls_vars.page !== 'undefined'\r\n                ? advgb_block_controls_vars.page\r\n                : [];\r\n        }\r\n\r\n        removeRuleFromSet(setIndex, ruleIndex) {\r\n            const { currentPreset } = this.state;\r\n            const newControlSets = [...currentPreset.controlSets];\r\n            newControlSets[setIndex].rules.splice(ruleIndex, 1);\r\n\r\n            this.setState({\r\n                currentPreset: {\r\n                    ...currentPreset,\r\n                    controlSets: newControlSets\r\n                }\r\n            });\r\n        }\r\n\r\n        renderContextualMessage(lastAction) {\r\n            let icon, title, description;\r\n\r\n            switch (lastAction) {\r\n                case 'cancelled':\r\n                    icon = '';\r\n                    title = __('Edit Cancelled', 'advanced-gutenberg');\r\n                    description = __('Edit cancelled. Select another preset to edit or create a new one.', 'advanced-gutenberg');\r\n                    break;\r\n\r\n                case 'saved':\r\n                    icon = '';\r\n                    title = __('Preset Saved!', 'advanced-gutenberg');\r\n                    description = __('Preset saved successfully! Choose another preset to edit or create a new one.', 'advanced-gutenberg');\r\n                    break;\r\n\r\n                case 'deleted':\r\n                    icon = '';\r\n                    title = __('Preset Deleted', 'advanced-gutenberg');\r\n                    description = __('Preset deleted. Select another preset to edit or create a new one.', 'advanced-gutenberg');\r\n                    break;\r\n\r\n                case 'error':\r\n                    icon = '';\r\n                    title = __('Action Completed', 'advanced-gutenberg');\r\n                    description = __('Operation completed. You can continue editing presets or create new ones.', 'advanced-gutenberg');\r\n                    break;\r\n\r\n                case 'loaded':\r\n                    icon = '';\r\n                    title = __('Select a Preset to Edit', 'advanced-gutenberg');\r\n                    description = __('Choose a preset from the list to edit its rules, or create a new preset to get started.', 'advanced-gutenberg');\r\n                    break;\r\n\r\n                case 'empty':\r\n                    icon = '';\r\n                    title = __('No Presets Yet', 'advanced-gutenberg');\r\n                    description = __('Create your first preset to start managing block visibility rules.', 'advanced-gutenberg');\r\n                    break;\r\n\r\n                case 'installed':\r\n                    icon = '';\r\n                    title = __('Sample Created!', 'advanced-gutenberg');\r\n                    description = __('Preset sample created successfully! Choose a preset to edit or create a new one.', 'advanced-gutenberg');\r\n                    break;\r\n\r\n                default:\r\n                    icon = '';\r\n                    title = __('Manage Your Presets', 'advanced-gutenberg');\r\n                    description = __('Select a preset to edit or create a new one to control block visibility.', 'advanced-gutenberg');\r\n            }\r\n\r\n            return (\r\n                <>\r\n                    <div className=\"advgb-guidance-icon\">{icon}</div>\r\n                    <h3>{title}</h3>\r\n                    <p>{description}</p>\r\n                    <div className=\"advgb-guidance-actions\">\r\n                        <Button\r\n                            isPrimary\r\n                            onClick={() => this.createNewPreset()}\r\n                            className=\"advgb-guidance-create-btn\"\r\n                        >\r\n                            {__('Create New Preset', 'advanced-gutenberg')}\r\n                        </Button>\r\n                        {lastAction === 'loaded' && (\r\n                            <Button\r\n                                isSecondary\r\n                                onClick={() => this.createSamplePresets()}\r\n                                className=\"advgb-guidance-samples-btn\"\r\n                            >\r\n                                {__('Add More Samples', 'advanced-gutenberg')}\r\n                            </Button>\r\n                        )}\r\n                    </div>\r\n                </>\r\n            );\r\n        }\r\n\r\n        render() {\r\n            const { showModal, loading, error, currentPreset, editingPreset, deleting, presets, lastAction } = this.state;\r\n            const { isModal = false } = this.props;\r\n\r\n            const hasActiveForm = currentPreset || editingPreset;\r\n            const hasPresets = presets && presets.length > 0;\r\n\r\n            if (loading) {\r\n                return (\r\n                    <div className=\"advgb-preset-loading-container\">\r\n                        <div className=\"advgb-preset-loading-spinner\">\r\n                            <div className=\"advgb-spinner\">\r\n                                <div className=\"advgb-spinner-circle\"></div>\r\n                            </div>\r\n                            <p>{__('Loading presets...', 'advanced-gutenberg')}</p>\r\n                        </div>\r\n                    </div>\r\n                );\r\n            }\r\n\r\n\r\n            if (error) {\r\n                return <Notice status=\"error\">{error}</Notice>;\r\n            }\r\n\r\n            const content = (\r\n                <div className={`advgb-preset-manager ${deleting ? 'deleting' : ''}`}>\r\n                    {deleting && (\r\n                        <div className=\"advgb-preset-deleting-overlay\">\r\n                            <div className=\"advgb-preset-deleting-message\">\r\n                                <Spinner />\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                    <div className=\"advgb-preset-sidebar\">\r\n                        <div className=\"advgb-preset-sidebar-header\">\r\n                            {hasPresets && !hasActiveForm && (\r\n                                <Button\r\n                                    isPrimary\r\n                                    onClick={() => this.createNewPreset()}\r\n                                >\r\n                                    {__('Add New', 'advanced-gutenberg')}\r\n                                </Button>\r\n                            )}\r\n                        </div>\r\n                        {this.renderPresetList()}\r\n                    </div>\r\n\r\n                    <div className=\"advgb-preset-editor\">\r\n                        {(hasPresets || lastAction == 'creating') && hasActiveForm && this.renderPresetForm()}\r\n\r\n                        {!hasPresets && lastAction !== 'creating' && (\r\n                            <div className=\"advgb-welcome-message\">\r\n                                <div className=\"advgb-welcome-icon\"></div>\r\n                                <h3>{__('Welcome to Block Control Presets', 'advanced-gutenberg')}</h3>\r\n                                <p>{__('Create your first preset or generate sample presets to get started with block visibility rules.', 'advanced-gutenberg')}</p>\r\n                            </div>\r\n                        )}\r\n\r\n                        {hasPresets && !hasActiveForm && (\r\n                            <div\r\n                                className=\"advgb-guidance-message\"\r\n                                data-action={lastAction}\r\n                            >\r\n                                {this.renderContextualMessage(lastAction)}\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            );\r\n\r\n            if (isModal) {\r\n                return (\r\n                    <Modal\r\n                        title={__('Block Control Presets', 'advanced-gutenberg')}\r\n                        onRequestClose={this.handleModalClose}\r\n                        isDismissible={true}\r\n                        shouldCloseOnClickOutside={false}\r\n                        shouldCloseOnEsc={true}\r\n                        isFullScreen={true}\r\n                        className=\"advgb-preset-modal\"\r\n                    >\r\n                        {content}\r\n                    </Modal>\r\n                );\r\n            }\r\n\r\n            return content;\r\n        }\r\n    }\r\n\r\n    window.AdvGBPresetManager = PresetManager;\r\n\r\n})(wp.i18n, wp.components, wp.element, wp.data);"],"names":["module","exports","to12Hour","hour","meridiem","meridian","to24Hour","time","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","n","getter","__esModule","d","a","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","_wp$components","wp","components","ButtonGroup","Button","DateTimePicker","CheckboxControl","TextControl","Popover","Tooltip","SelectControl","_wp$element","Icon","element","Component","Fragment","useState","_wp$i18n","i18n","__","_x","applyFilters","hooks","AdvDateTimeControl","props","_useState2","_slicedToArray","popupState","setPopupState","togglePopup","buttonLabel","dateLabel","date","onChangeDate","onDateClear","onInvalidDate","placement","offset","React","createElement","className","isLink","icon","onClick","text","moment","format","onClose","bind","resize","currentDate","onChange","is12Hour","isInvalidDate","AdvDaysControl","allDays","slug","label","_props$days","days","onChangeDays","_useState4","Array","isArray","selectedDays","setSelectedDays","isDaySelected","some","el","map","day","checked","updatedDays","filter","findDay","find","concat","_toConsumableArray","uniqueDays","Set","onChangeDay","defaultProps","AdvTimeClass","_Component","_this","_classCallCheck","_callSuper","state","onChangeTime","currentTime","hours","minutes","onInit","_inherits","value","_this$state","this","setState","includes","split","parseInt","prevProps","prevState","_this$props","_this$state2","prevHours","prevMinutes","prevMeridian","savedTime","appendZero","hourConvert","isNaN","res","_this2","_this$state3","type","event","Math","max","min","Number","target","onKeyDown","placeholder","variant","disabled","onTimeClear","AdvTimeControl","AdvTimezoneControl","defaultTimezone","options","class","href","getOptionSuggestions","item","title","getOptionTitles","slugs","field_value","option_slug","find_option","getOptionSlugs","slugs_array","option_title","matching_slug","push","_regeneratorRuntime","e","t","r","i","Symbol","iterator","c","asyncIterator","u","toStringTag","define","configurable","writable","wrap","Generator","create","Context","makeInvokeMethod","tryCatch","arg","h","l","f","s","y","GeneratorFunction","GeneratorFunctionPrototype","p","getPrototypeOf","v","values","g","defineIteratorMethods","forEach","_invoke","AsyncIterator","invoke","_typeof","resolve","__await","then","callInvokeWithMethodAndArg","Error","done","method","delegate","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","return","TypeError","resultName","next","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","length","displayName","isGeneratorFunction","constructor","name","mark","setPrototypeOf","__proto__","awrap","async","Promise","keys","reverse","pop","prev","charAt","slice","stop","rval","handle","complete","finish","catch","delegateYield","asyncGeneratorStep","_asyncToGenerator","arguments","apply","_next","_throw","_defineProperties","_toPropertyKey","toPrimitive","String","_toPrimitive","_getPrototypeOf","ReferenceError","_assertThisInitialized","_possibleConstructorReturn","_isNativeReflectConstruct","Reflect","construct","Boolean","valueOf","_setPrototypeOf","wpI18n","wpComponents","wpElement","wpData","sprintf","Card","CardBody","CardHeader","TextareaControl","ToggleControl","FormTokenField","RangeControl","Modal","Notice","Spinner","PanelBody","BaseControl","RadioControl","ScheduleControl","useSelect","useDispatch","_ref","index","schedule","onRemove","getTimezoneLabel","getTimezoneSlug","canRemove","style","marginBottom","padding","border","borderRadius","display","justifyContent","isDestructive","dateFrom","newDate","dateTo","thisDate","Date","getTime","setHours","fromDate","recurring","help","timeFrom","newTime","timeTo","status","isDismissible","timezone","onChangeTimezone","PresetManager","presets","currentPreset","getDefaultPreset","editingPreset","showModal","modalMode","loading","saving","error","deleting","deletingPresetId","lastAction","handleModalClose","createNewPreset","editPreset","savePreset","deletePreset","addControlSet","removeControlSet","addRuleToSet","removeRuleFromSet","updateRuleData","initializePresets","setupDataSync","dataUnsubscribe","window","AdvGBPresetData","unsubscribe","subscribe","id","_createSamplePresets","_callee","response","_context","apiFetch","path","success","updatePresets","t0","console","_initializePresets","_callee2","_context2","waitForGlobalData","loadPresetsFromSources","checkData","advgb_block_controls_vars","setTimeout","_loadPresetsFromSources","_callee3","globalPresets","_globalPresets","_context3","getAllPresets","warn","controlSets","created","modified","_savePreset","_callee4","presetData","updatedPresets","_context4","data","loadPresets","message","_deletePreset","_callee5","presetId","_context5","_x2","preset","_objectSpread","updatedControlSets","now","toString","rules","setIndex","newControlSets","_","ruleType","newRule","createRuleByType","unshift","baseRule","enabled","schedules","roles","approach","devices","min_width","max_width","browsers","systems","condition","queries","logic","capabilities","taxonomies","pages","dateString","toLocaleDateString","month","year","minute","hour12","ruleTypeObj","getAvailableRuleTypes","_this3","isPrimary","isSecondary","createSamplePresets","itemClasses","join","isSmall","stopPropagation","_this4","controlSet","renderControlSet","isBusy","_this5","rule","ruleIndex","renderControlRule","_this6","getRuleTypeLabel","renderRuleConfiguration","renderScheduleConfig","renderUserRoleConfig","renderDeviceTypeConfig","renderDeviceWidthConfig","renderBrowserDeviceConfig","renderOperatingSystemConfig","renderCookieConfig","renderUserMetaConfig","renderPostMetaConfig","renderQueryStringConfig","renderCapabilitiesConfig","renderArchiveConfig","renderPageConfig","splice","user_roles","cap","word","toUpperCase","page","advgbBlocks","_this7","scheduleIndex","updatedSchedules","idx","width","newSchedule","_this8","multiple","suggestions","getUserRoles","maxSuggestions","__experimentalExpandOnFocus","_this9","paddingLeft","deviceType","newDevices","_this10","_this11","getBrowserOptions","_this12","getOperatingSystemOptions","_this13","getConditionOptions","_this14","_this15","_this16","queriesValue","_this17","getCapabilitiesOptions","_this18","getArchiveOptions","archives","_this19","getPageOptions","description","_this20","_this21","_this$props$isModal","isModal","hasActiveForm","hasPresets","content","renderPresetList","renderPresetForm","renderContextualMessage","onRequestClose","shouldCloseOnClickOutside","shouldCloseOnEsc","isFullScreen","AdvGBPresetManager"],"sourceRoot":""}